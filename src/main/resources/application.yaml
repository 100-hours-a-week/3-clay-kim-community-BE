spring:
  application:
    name: community

  profiles:
    active: local
    include: aws

  datasource:
    url: jdbc:mysql://localhost:3306/community?serverTimezone=UTC&useSSL=false
    username: root
    password:
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        format_sql: true
        use_sql_comments: ture
    show-sql: true

  data:
    redis:
      host: localhost
      port: 6379
      password: ${REDIS_SECRET:}

  thymeleaf:
    cache: true

  servlet:
    multipart:
      max-file-size: 10MB       # 파일 하나의 최대 크기
      max-request-size: 30MB    # 요청 전체 크기 (파일 여러 개 업로드 시 합산)

auth:
  type: jwt

jwt:
  expirationtime:
    accessTtl: 1800 # 30분
    refreshTtl: 604800 # 7일
  secret: ${JWT_SECRET:defaultjwtsecret}

session:
  sessionTtl: 1800

upload-dir:
  image: uploads/images

image:
  upload:
    profile-url: http
    post-url: http

cors:
  exposedHeaders:
    - Authorization
    - Content-Type
    - access
    - refresh

exclusive-path: /api/auth, /api/error, /api/images, /api/posts/top10, /api/health, /api/uploads, /api/posts/type, /api/images/status, /api/actuator, /actuator

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus,metrics
  endpoint:
    prometheus:
      enabled: true
  server:
    port: 8080